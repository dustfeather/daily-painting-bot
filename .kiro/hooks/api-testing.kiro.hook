{
  "enabled": true,
  "name": "API Postman Testing",
  "description": "Monitors API source code changes and automatically runs Postman collection tests to validate functionality",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "src/**/*.ts",
      "src/**/*.js",
      "wrangler.toml",
      ".dev.vars"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "API source code or configuration has been modified. Please retrieve the contents of the .postman.json file, get the collection ID, and run the collection using the local environment. Show me the test results and propose fixes for any errors found."
  }
}
